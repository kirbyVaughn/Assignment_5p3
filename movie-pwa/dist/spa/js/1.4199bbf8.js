(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{b070:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{staticClass:"constrain-more q-pa-md"},[i("div",{staticClass:"q-pa-md"},[i("q-card",{attrs:{flat:"",bordered:"",dense:""}},[i("q-card-section",[i("div",{staticClass:"text-h6"},[t._v(t._s(t.pageTitle))])]),i("q-separator"),i("form",{on:{submit:function(e){return e.preventDefault(),t.submitMovie(e)}}},[i("q-card-section",[i("div",{staticClass:"q-ma-md"},[i("q-input",{staticClass:"col col-sm-6",attrs:{label:"Title *",dense:""},model:{value:t.movieToSubmit.title,callback:function(e){t.$set(t.movieToSubmit,"title",e)},expression:"movieToSubmit.title"}})],1),i("div",{staticClass:"q-ma-md"},[i("q-input",{staticClass:"col col-sm-6",attrs:{label:"Description",dense:""},model:{value:t.movieToSubmit.description,callback:function(e){t.$set(t.movieToSubmit,"description",e)},expression:"movieToSubmit.description"}})],1),i("div",{staticClass:"q-ma-md"},[i("q-input",{staticClass:"col col-sm-6",attrs:{label:"Year *",dense:""},model:{value:t.movieToSubmit.year,callback:function(e){t.$set(t.movieToSubmit,"year",e)},expression:"movieToSubmit.year"}})],1),i("div",{staticClass:"q-ma-md"},[i("q-input",{staticClass:"col col-sm-6",attrs:{label:"Rating",dense:""},model:{value:t.movieToSubmit.rating,callback:function(e){t.$set(t.movieToSubmit,"rating",e)},expression:"movieToSubmit.rating"}})],1)]),i("q-card-actions",{attrs:{align:"center"}},[i("div",{staticClass:"row justify-center q-mt-lg"},[i("q-btn",{attrs:{type:"submit",disable:!t.movieToSubmit.title||!t.movieToSubmit.year,color:"black",rounded:"",label:t.labelbutton,unelevated:""}})],1)])],1)],1)],1)])},s=[],a=(i("e01a"),i("b178"),i("fc1b")),l={name:"PageMovieCreate",data(){return{id:"",movieToSubmit:{description:"",title:"",year:"",rating:""},pageTitle:"Add New Movie",isUpdate:!1,labelbutton:"Add movie"}},created(){if(this.$route.params.pk){this.id=this.$route.params.pk,this.pageTitle="Edit Movie",this.labelbutton="Update Movie",this.isUpdate=!0;let t=a["a"].collection("movies").doc(this.$route.params.pk);t.get().then((t=>{this.movieToSubmit=t.data()})).catch((t=>{console.log(t)}))}},methods:{submitMovie(){this.isUpdate?(this.updateMovie(this.id,this.movieToSubmit),this.$router.push("/movie-list")):(this.addMovie(this.movieToSubmit),this.$router.push("/movie-list"))},addMovie(){event.preventDefault(),a["a"].collection("movies").add(this.movieToSubmit).then((()=>{console.log("Movie successfully created!"),this.movieToSubmit.title="",this.movieToSubmit.description="",this.movieToSubmit.year="",this.movieToSubmit.rating=""})).catch((t=>{console.log(t)}))},updateMovie(t,e){event.preventDefault(),a["a"].collection("movies").doc(t).update(e).then((()=>{console.log("Movie successfully updated!")})).catch((t=>{console.log(t)}))}},watch:{$route(t,e){"/movie-create"===t["path"]&&Object.assign(this.$data,this.$options.data())}}},c=l,m=i("2877"),n=Object(m["a"])(c,o,s,!1,null,null,null);e["default"]=n.exports}}]);